function field_control(e){e.value?$("#letseeit").prop("disabled",!1):$("#letseeit").prop("disabled",!0)}$("#letseeit").click(function(e){e.preventDefault();var i,a=$("input[name=username]").val(),r="https://instagram.com/"+a+"?__a=1",o=[];$(".invalid-feedback").hide(),$("#loading").fadeIn(),$("#danger").hide(),$("#profile").hide(),$("#modal-body").css("background","#141d26"),$(".carousel-control-prev").hide(),$(".carousel-control-next").hide(),$.getJSON(r,function(e){var t=e.graphql.user.is_private;e.graphql.user.edge_owner_to_timeline_media.count;if(0==t)for(var n=0;n<11&&n!=e.graphql.user.edge_owner_to_timeline_media.count;n++)1!=e.graphql.user.edge_owner_to_timeline_media.edges[n].node.is_video&&(o[n]=e.graphql.user.edge_owner_to_timeline_media.edges[n].node.display_url);o=o.filter(function(e){return""!==e}),r="https://i.instagram.com/api/v1/users/"+e.graphql.user.id+"/info/",$.getJSON(r,function(e){if(i=e.user.hd_profile_pic_url_info.url,$(".carousel-indicators").append("<li data-target='#carousel' data-slide-to='0' class='active'></li>"),$(".carousel-inner").append("<div class='carousel-item active'><a href='"+i+"' target='_blank'><img class='img-fluid' id='img-profile-picture' src='"+i+"'></a></div>"),0==t)for($(".carousel-control-prev").show(),$(".carousel-control-next").show(),n=0;n<o.length;n++)$(".carousel-indicators").append("<li data-target='#carousel' data-slide-to='"+(n+1)+"'></li>"),$(".carousel-inner").append("<div class='carousel-item'><a href='"+o[n]+"' target='_blank'><img class='img-fluid' id='img-profile-picture' src='"+o[n]+"'></a></div>");$("#profile").attr("href","https://instagram.com/"+a),$("#profile").show(),$("#loading").hide(),$("#danger").hide()})}).fail(function(){$("#modal-body").css("background","#f8d7da"),$("#loading").hide(),$("#danger").fadeIn()}),$("#modal").on("hidden.bs.modal",function(e){$(".carousel-indicators").empty(),$(".carousel-inner").empty(),$("#loading").hide()})}),$("#download").click(function(e){e.preventDefault();var i=$("input[name=video_url]").val(),a=!1,r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState==XMLHttpRequest.DONE){var e=document.implementation.createHTMLDocument().documentElement;e.innerHTML=r.responseText,window.open(e.querySelector("meta[property='og:video']").getAttribute("content")),$("#video_url").val(""),a=!0}},r.open("GET",i,!1),r.send(null),0==a?($(".invalid-feedback").show(),$("#video_url").css("border","1px solid #dc3545")):($("#video_url").css("border","1px solid black"),$(".invalid-feedback").hide())});