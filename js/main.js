function field_control(e){e.value?$("#letseeit").prop("disabled",!1):$("#letseeit").prop("disabled",!0)}function field_control_stories(e){e.value?$("#stories").prop("disabled",!1):$("#stories").prop("disabled",!0)}function error(){$("#modal-body").css("background","#f8d7da"),$("#loading").hide(),$("#danger").fadeIn()}$("#letseeit").click(function(e){e.preventDefault();var a,o,r,i,d,n=$("input[name=username]").val(),l="https://instagram.com/"+n,s=[];$(".invalid-feedback").hide(),$("#loading").fadeIn(),$("#danger").hide(),$("#profile").hide(),$("#modal-body").css("background","#141d26"),$("#letseeit-control-prev").hide(),$("#letseeit-control-next").hide(),$("#see-more").hide(),$("#see-more-header").hide();var c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState==XMLHttpRequest.DONE){var e=document.implementation.createHTMLDocument().documentElement;if(e.innerHTML=c.responseText,a=(a=(a=e.children[1].querySelectorAll("script"))[0].firstChild.data).replace("window._sharedData = ","").replace(";",""),a=jQuery.parseJSON(a),o=a.entry_data.ProfilePage[0].graphql.user.id,r=a.entry_data.ProfilePage[0].graphql.user.is_private,i=a.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.count,0==r)for(var t=0;t<11&&t!=i;t++)1!=a.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges[t].node.is_video&&(s[t]=a.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges[t].node.display_url);s=s.filter(function(e){return""!==e}),l="https://i.instagram.com/api/v1/users/"+o+"/info/",$.getJSON(l,function(e){if(d=e.user.hd_profile_pic_url_info.url,$(".carousel-indicators").append("<li data-target='#carousel' data-slide-to='0' class='active'></li>"),$(".carousel-inner").append("<div class='carousel-item active'><a href='"+d+"' target='_blank'><img class='img-fluid' id='   img-profile-picture' src='"+d+"'></a></div>"),0==r)for($("#letseeit-control-prev").show(),$("#letseeit-control-next").show(),t=0;t<s.length;t++)$(".carousel-indicators").append("<li data-target='#carousel' data-slide-to='"+(t+1)+"'></li>"),$(".carousel-inner").append("<div class='carousel-item'><a href='"+s[t]+"' target='_blank'><img class='img-fluid' id='img-profile-picture' src='"+s[t]+"'></a></div>");$("#profile").attr("href","https://instagram.com/"+n),$("#profile").show(),$("#see-more").show(),$("#loading").hide(),$("#danger").hide()})}404==c.status&&error()},c.open("GET",l,!0),c.send(null)}),$("#modal").on("hidden.bs.modal",function(e){$(".carousel-indicators").empty(),$(".carousel-inner").empty(),$("#loading").hide(),$("#photo_url").css("border","1px solid black")}),$("#download_modal").on("hidden.bs.modal",function(e){$("#modal-body-download").empty()}),$("#stories_modal").on("hidden.bs.modal",function(e){$(".stories-inner").empty(),$(".modal-title-stories").empty()}),$("#download").click(function(e){e.preventDefault();var t=$("input[name=video_url]").val(),a=!1;$("#download").attr("data-target","#"),$("#download_modal").show(),t||$("#download_modal").hide();var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==XMLHttpRequest.DONE){var e=document.implementation.createHTMLDocument().documentElement;e.innerHTML=o.responseText;var t=e.querySelector("meta[property='og:video']").getAttribute("content");$("#modal-body-download").append('<video class="d-flex justify-content-center img-fluid" controls id="player"><source src="'+t+'" type="video/mp4"></video>'),$("#video_url").val(""),$("#download").attr("data-target","#download_modal"),a=!0}},o.open("GET",t,!1),o.send(null),404==o.status&&(error(),$("#download_modal").hide()),0==a?($(".invalid-feedback").show(),$("#video_url").css("border","1px solid #dc3545"),$("#download_modal").hide()):($("#video_url").css("border","1px solid black"),$(".invalid-feedback").hide())}),$("#add-photo").click(function(e){e.preventDefault();var t=$("input[name=photo_url]").val(),o=!1,r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState==XMLHttpRequest.DONE){$("#photo_url").css("border","1px solid black");var e=document.implementation.createHTMLDocument().documentElement;e.innerHTML=r.responseText;var t=e.querySelector("meta[property='og:image']").getAttribute("content");$("#photo_url").val("");var a=$(".carousel-indicators").last()[0].childElementCount;$(".carousel-indicators").append("<li data-target='#carousel' data-slide-to='"+a+"'></li>"),$(".carousel-inner").append("<div class='carousel-item'><a href='"+t+"' target='_blank'><img class='img-fluid' id='img-profile-picture' src='"+t+"'></a></div>"),$("#carousel").carousel(a),o=!0}},r.open("GET",t,!1),r.send(null),404!=r.status&&0!=o||$("#photo_url").css("border","1px solid #dc3545")}),$(" #see-more").click(function(e){e.preventDefault(),$(" #see-more-header").toggle(200)});